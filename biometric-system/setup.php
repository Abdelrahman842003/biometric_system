#!/usr/bin/env php
<?php
/**
 * Quick Database Setup
 * ØªØ·Ø¨ÙŠÙ‚ Ø³Ø±ÙŠØ¹ Ù„Ù€ schema Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
 */

echo "\n";
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\n";
echo "â•‘              ðŸ—„ï¸  Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø¨Ø§ÙŠÙˆÙ…ØªØ±Ùƒ                â•‘\n";
echo "â•‘                    Database Schema Installer                 â•‘\n";
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n";
echo "\n";

// Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ù„Ù Ø§Ù„ØªÙƒÙˆÙŠÙ†
if (!file_exists(__DIR__ . '/config/database.php')) {
    echo "âŒ Ø®Ø·Ø£: Ù…Ù„Ù Ø§Ù„ØªÙƒÙˆÙŠÙ† ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ (config/database.php)\n";
    echo "ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ù„Ù Ø§Ù„ØªÙƒÙˆÙŠÙ† Ø£ÙˆÙ„Ø§Ù‹.\n\n";
    exit(1);
}

// ØªØ¶Ù…ÙŠÙ† Ù…Ù„Ù Ø§Ù„ØªØ«Ø¨ÙŠØª
require_once __DIR__ . '/install.php';

try {
    $installer = new SchemaInstaller();
    $success = $installer->install();
    
    if ($success) {
        echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\n";
        echo "â•‘                       âœ… ØªÙ… Ø§Ù„ØªØ«Ø¨ÙŠØª Ø¨Ù†Ø¬Ø§Ø­!                   â•‘\n";
        echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n";
        echo "\n";
        echo "ðŸš€ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©:\n";
        echo "1. Ø§ÙØªØ­ Ø§Ù„Ù…ØªØµÙØ­ ÙˆØ§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: http://localhost:8000/\n";
        echo "2. Ø§Ø³ØªØ®Ø¯Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„: admin / password\n";
        echo "3. Ù‚Ù… Ø¨ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ø¹Ø¯ Ø£ÙˆÙ„ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„\n";
        echo "4. Ø£Ø¶Ù Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø¨Ø§ÙŠÙˆÙ…ØªØ±Ùƒ Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…\n\n";
        
        exit(0);
    } else {
        echo "âŒ ÙØ´Ù„ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ schema\n";
        exit(1);
    }
    
} catch (Exception $e) {
    echo "âŒ Ø®Ø·Ø£: " . $e->getMessage() . "\n\n";
    exit(1);
}
?>
